package com.klnet.application;

import java.util.Calendar;
import java.util.GregorianCalendar;
import java.util.List;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.scheduling.annotation.Scheduled;
import org.springframework.stereotype.Component;

@Component
public class CargoSmartService {
	
	Logger logger = LoggerFactory.getLogger(this.getClass());

	  @Autowired
	  OwnerDAO ownerDAO;
	  
	  @Autowired
	  CnediDAO cnediDAO;
/*
	  @Scheduled(fixedDelay = 1000, initialDelay = 10000)
	  public void testSelect() throws InterruptedException{
		  List list = ownerDAO.selectIsoPort();
		  for(int i=0; i<list.size(); i++) {
			  System.out.println("--" + list.get(i));
		  }
		  
		  List list2 = cnediDAO.selectRequestCntr();
		  for(int i=0; i<list2.size(); i++) {
			  System.out.println("--" + list2.get(i));
		  }		  
		System.out.println("testing...");  
	  }
*/
	  @Scheduled(fixedDelay = 1000 * 60 * 2, initialDelay = 10000)
	  public void selectPostgresqlToOracle() throws InterruptedException{
		  
		  Calendar calendar = new GregorianCalendar();
		  
		  int hour       = calendar.get(Calendar.HOUR);        // 12 hour clock
		  int hourOfDay  = calendar.get(Calendar.HOUR_OF_DAY); // 24 hour clock
		  int minute     = calendar.get(Calendar.MINUTE);
		  int second     = calendar.get(Calendar.SECOND);
		  int millisecond= calendar.get(Calendar.MILLISECOND);
		  
		  logger.info("START Postgressql To Oracle " + hour +":"  + minute+":" + second+"." + millisecond);
		  
//		  String ret = ownerDAO.selectPostgresqlToOracle();
		  
		  logger.info("End Postgresql To Oracle:");

	  }
	
}
